<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>DogCamp Hashtag Monitor</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    * {
      box-sizing: border-box;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      margin: 0;
      padding: 0;
      background: #f3f4f6;
      color: #111827;
    }

    .app {
      max-width: 1100px;
      margin: 0 auto;
      padding: 24px;
    }

    .header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 24px;
    }

    .logo {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      overflow: hidden;         /* ë¡œê³ ê°€ ë™ê·¸ë¼ë¯¸ ì•ˆì— ì˜ë¦¬ë„ë¡ */
      background: #f3f4f6;      /* í•„ìš”í•˜ë©´ ìƒ‰ ë°”ê¿”ë„ ë¨ */
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .logo img {
      width: 100%;
      height: 100%;
      object-fit: contain;      /* ë¡œê³  ë¹„ìœ¨ ìœ ì§€ (ê½‰ ì°¨ê²ŒëŠ” cover) */
    }

    .title-block h1 {
      margin: 0;
      font-size: 22px;
      font-weight: 700;
    }

    .title-block p {
      margin: 2px 0 0;
      font-size: 13px;
      color: #6b7280;
    }

    .grid {
      display: grid;
      grid-template-columns: 1.3fr 1.7fr;
      gap: 16px;
      margin-bottom: 16px;
    }

    .card {
      background: #ffffff;
      border-radius: 12px;
      padding: 16px;
      box-shadow: 0 8px 16px rgba(15, 23, 42, 0.08);
    }

    .card h2 {
      margin: 0 0 8px;
      font-size: 16px;
    }

    .card p.desc {
      margin: 0 0 12px;
      font-size: 12px;
      color: #6b7280;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      border-radius: 999px;
      padding: 4px 10px;
      font-size: 11px;
      background: #eff6ff;
      color: #1d4ed8;
      margin-bottom: 8px;
    }

    .badge span.icon {
      font-size: 13px;
    }

    .info-row {
      display: flex;
      gap: 12px;
      margin-top: 8px;
    }

    .info-item {
      padding: 8px 10px;
      border-radius: 10px;
      background: #f9fafb;
      font-size: 12px;
    }

    .info-label {
      display: block;
      font-size: 11px;
      color: #6b7280;
      margin-bottom: 2px;
    }

    .info-value {
      font-weight: 600;
    }

    .pill {
      display: inline-flex;
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 11px;
      background: #ecfdf5;
      color: #15803d;
      margin-top: 6px;
    }

    .section-title {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 8px;
    }

    .section-title h3 {
      margin: 0;
      font-size: 14px;
    }

    .section-title span {
      font-size: 11px;
      color: #6b7280;
    }

    .post-list {
      display: flex;
      flex-direction: column;
      gap: 10px;
      max-height: 260px;
      overflow-y: auto;
      padding-right: 4px;
    }

    .post-item {
      display: grid;
      grid-template-columns: 72px 1fr;
      gap: 10px;
      padding: 8px;
      border-radius: 10px;
      background: #f9fafb;
      border: 1px solid #e5e7eb;
    }

    .thumb {
      width: 72px;
      height: 72px;
      border-radius: 10px;
      background-size: cover;
      background-position: center;
      background-color: #e5e7eb;
      position: relative;
      overflow: hidden;
    }

    .thumb-label {
      position: absolute;
      bottom: 4px;
      right: 4px;
      font-size: 10px;
      padding: 2px 6px;
      border-radius: 999px;
      background: rgba(17, 24, 39, 0.8);
      color: #f9fafb;
    }

    .post-meta {
      font-size: 11px;
      color: #6b7280;
      margin-bottom: 4px;
    }

    .post-caption {
      font-size: 12px;
      margin-bottom: 4px;
      max-height: 36px;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .post-link {
      font-size: 11px;
      color: #2563eb;
      text-decoration: none;
    }

    .post-link:hover {
      text-decoration: underline;
    }

    .hashtag-search {
      margin-top: 8px;
    }

    .input-row {
      display: flex;
      gap: 8px;
      margin-bottom: 8px;
    }

    .input-row input {
      flex: 1;
      padding: 8px 10px;
      border-radius: 10px;
      border: 1px solid #d1d5db;
      font-size: 13px;
    }

    .input-row button {
      padding: 8px 14px;
      border-radius: 10px;
      border: none;
      background: #2563eb;
      color: #ffffff;
      font-size: 13px;
      cursor: pointer;
    }

    .input-row button:hover {
      background: #1d4ed8;
    }

    .hint {
      font-size: 11px;
      color: #6b7280;
      margin-bottom: 6px;
    }

    .tag-chip {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 3px 8px;
      border-radius: 999px;
      font-size: 11px;
      background: #fef9c3;
      color: #854d0e;
      margin-right: 4px;
    }

    .empty {
      font-size: 12px;
      color: #9ca3af;
      padding: 8px 0;
    }

    footer {
      margin-top: 16px;
      font-size: 10px;
      color: #9ca3af;
      text-align: right;
    }

    @media (max-width: 900px) {
      .grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="app">
    <header class="header">
      <div class="logo">
        <!-- ì—¬ê¸° srcë¥¼ ë„¤ ë¡œê³  íŒŒì¼ ì´ë¦„ìœ¼ë¡œ ë°”ê¿”ë„ ë¨ -->
        <img src="dogcamp-logo.png" alt="DogCamp logo" />
      </div>
      <div class="title-block">
        <h1>DogCamp Hashtag Monitor</h1>
        <p>ë„ê·¸ìº í”„ ì¸ìŠ¤íƒ€ê·¸ë¨ ê³„ì • ë° ë¸Œëœë“œ í•´ì‹œíƒœê·¸ ëª¨ë‹ˆí„°ë§ ë‚´ë¶€ ëŒ€ì‹œë³´ë“œ (ê²€ìˆ˜ìš© ë°ëª¨)</p>
      </div>
    </header>

    <div class="grid">
      <!-- ì™¼ìª½: ìš°ë¦¬ ë¹„ì¦ˆë‹ˆìŠ¤ ê³„ì • ì •ë³´ + ìš°ë¦¬ ê³„ì • ê²Œì‹œë¬¼ -->
      <section class="card">
        <div class="badge">
          <span class="icon">ğŸ”</span>
          <span>instagram_basic ì‚¬ìš© ì˜ˆì‹œ</span>
        </div>
        <h2>ì—°ê²°ëœ ì¸ìŠ¤íƒ€ê·¸ë¨ ë¹„ì¦ˆë‹ˆìŠ¤ ê³„ì •</h2>
        <p class="desc">
          instagram_basic ê¶Œí•œìœ¼ë¡œ Instagram Graph APIì˜
          <code>/{ig-user-id}?fields=id,username,media_count</code> ë°
          <code>/{ig-user-id}/media</code> ì‘ë‹µì„ ì‚¬ìš©í•´
          ìš°ë¦¬ ë¹„ì¦ˆë‹ˆìŠ¤ ê³„ì • ì •ë³´ë¥¼ í‘œì‹œí•˜ëŠ” ì˜ì—­ì…ë‹ˆë‹¤.
        </p>

        <div class="info-row" id="account-info">
          <!-- JSì—ì„œ ì±„ì›Œë„£ìŒ -->
        </div>

        <div class="section-title" style="margin-top: 14px;">
          <h3>ìš°ë¦¬ ê³„ì •ì´ ì˜¬ë¦° ìµœê·¼ ê²Œì‹œë¬¼</h3>
          <span>ë¹„ì¦ˆë‹ˆìŠ¤ ê³„ì • ìì²´ ì½˜í…ì¸ ë§Œ ì¡°íšŒ</span>
        </div>

        <div class="post-list" id="own-posts"></div>
      </section>

      <!-- ì˜¤ë¥¸ìª½: í•´ì‹œíƒœê·¸ ê²€ìƒ‰ (ë‹¤ë¥¸ ìœ ì € ê²Œì‹œë¬¼) -->
      <section class="card">
        <div class="badge">
          <span class="icon">#ï¸âƒ£</span>
          <span>ê³µê°œ í•´ì‹œíƒœê·¸ ê²Œì‹œë¬¼ (ê²€ìˆ˜ìš© ë°ëª¨)</span>
        </div>
        <h2>ë¸Œëœë“œ í•´ì‹œíƒœê·¸ ê²€ìƒ‰</h2>
        <p class="desc">
          Instagram Hashtag Search API
          (<code>/ig_hashtag_search</code>, <code>/{hashtag-id}/recent_media</code>)ë¥¼ ì‚¬ìš©í•´
          ê³ ê°ì´ ìë°œì ìœ¼ë¡œ ë‚¨ê¸´ ê³µê°œ ê²Œì‹œë¬¼ì„ ì‹œê°„ìˆœìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ë‚´ë¶€ìš© í™”ë©´ì…ë‹ˆë‹¤.
        </p>

        <div class="hashtag-search">
          <div class="hint">
            ì˜ˆ: <span class="tag-chip">#ë„ê·¸ìº í”„</span>
            <span class="tag-chip">#ë„ê·¸ìº í”„ê³µí•­ì </span>
          </div>
          <div class="input-row">
            <input id="hashtag-input" type="text" placeholder="#ë„ê·¸ìº í”„" />
            <button id="search-btn" type="button">ê²€ìƒ‰</button>
          </div>
          <div class="hint">
            â€» ê²€ìˆ˜ìš© ë°ëª¨ì—ì„œëŠ” API ì‘ë‹µì„ ì˜ˆì‹œ ë°ì´í„°ë¡œ í‘œì‹œí•©ë‹ˆë‹¤.
            ì‹¤ì œ ìš´ì˜ ì‹œì—ëŠ” Instagram Graph API ì‘ë‹µìœ¼ë¡œ êµì²´ë©ë‹ˆë‹¤.
          </div>
        </div>

        <div class="section-title" style="margin-top: 10px;">
          <h3>í•´ì‹œíƒœê·¸ ê²€ìƒ‰ ê²°ê³¼ (ì‹œê°„ìˆœ)</h3>
          <span id="current-tag-label">ê²€ìƒ‰ ì „</span>
        </div>

        <div class="post-list" id="hashtag-results">
          <!-- ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ì„ ë•Œ ê¸°ë³¸ ë¬¸êµ¬ -->
          <div class="empty">ìœ„ì˜ ì…ë ¥ì°½ì— ë¸Œëœë“œ í•´ì‹œíƒœê·¸ë¥¼ ì…ë ¥í•˜ê³  â€œê²€ìƒ‰â€ ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.</div>
        </div>
      </section>
    </div>

    <footer>
      ì´ í™”ë©´ì€ Meta App Reviewë¥¼ ìœ„í•œ ë°ëª¨ì´ë©°, ë„ê·¸ìº í”„ ë‚´ë¶€ ì§ì›ìš© ëŒ€ì‹œë³´ë“œ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì„¤ëª…í•˜ê¸° ìœ„í•œ ìš©ë„ì…ë‹ˆë‹¤.
    </footer>
  </div>

  <script>
    // -----------------------------
    // 1. instagram_basic ì‚¬ìš© ì˜ˆì‹œ: ìš°ë¦¬ ê³„ì • ì •ë³´ + ìš°ë¦¬ê°€ ì˜¬ë¦° ê²Œì‹œë¬¼
    // -----------------------------
    const mockAccount = {
      id: "17841451651429958",
      username: "dogcamp.gochon",
      media_count: 752
    };

    const mockOwnPosts = [
      {
        id: "18000000000000001",
        caption: "ì˜¤ëŠ˜ ë„ê·¸ìº í”„ ê³µí•­ì  ìœ ì¹˜ì› ì¹œêµ¬ë“¤ ğŸ¶âœˆï¸ #ë„ê·¸ìº í”„ #ë„ê·¸ìº í”„ê³µí•­ì ",
        permalink: "https://www.instagram.com/p/DEMOPOST01/",
        media_type: "IMAGE",
        media_url: "https://images.pexels.com/photos/1108099/pexels-photo-1108099.jpeg?auto=compress&cs=tinysrgb&w=300",
        timestamp: "2025-11-30T10:23:45+0000"
      },
      {
        id: "18000000000000002",
        caption: "ê³µí•­ ê°€ê¸° ì „ì— ì ê¹ ë“¤ëŸ¬ì„œ ë†€ë‹¤ ê°€ëŠ” ë‚  ğŸ¾ #dogcamp",
        permalink: "https://www.instagram.com/p/DEMOPOST02/",
        media_type: "IMAGE",
        media_url: "https://images.pexels.com/photos/3299900/pexels-photo-3299900.jpeg?auto=compress&cs=tinysrgb&w=300",
        timestamp: "2025-11-28T09:10:20+0000"
      },
      {
        id: "18000000000000003",
        caption: "ì‹ ê·œ ì¹œêµ¬ ì ì‘ ì¤‘ ğŸ™‚ ì˜¤ëŠ˜ë„ ì•ˆì „í•˜ê²Œ ì˜ ë†€ì•˜ìŠµë‹ˆë‹¤!",
        permalink: "https://www.instagram.com/p/DEMOPOST03/",
        media_type: "IMAGE",
        media_url: "https://images.pexels.com/photos/4587795/pexels-photo-4587795.jpeg?auto=compress&cs=tinysrgb&w=300",
        timestamp: "2025-11-25T12:01:10+0000"
      }
    ];

    function renderAccountInfo() {
      const container = document.getElementById("account-info");
      container.innerHTML = `
        <div class="info-item">
          <span class="info-label">ì—°ê²°ëœ ê³„ì •</span>
          <span class="info-value">@${mockAccount.username}</span>
        </div>
        <div class="info-item">
          <span class="info-label">ê²Œì‹œë¬¼ ìˆ˜</span>
          <span class="info-value">${mockAccount.media_count.toLocaleString("ko-KR")} ê°œ</span>
        </div>
        <div class="info-item">
          <span class="info-label">IG User ID</span>
          <span class="info-value">${mockAccount.id}</span>
        </div>
      `;
    }

    function renderOwnPosts() {
      const list = document.getElementById("own-posts");
      list.innerHTML = "";

      mockOwnPosts.forEach((post) => {
        const item = document.createElement("div");
        item.className = "post-item";

        const thumb = document.createElement("div");
        thumb.className = "thumb";
        thumb.style.backgroundImage = `url("${post.media_url}")`;
        thumb.innerHTML = `<div class="thumb-label">ìš°ë¦¬ ê³„ì •</div>`;

        const right = document.createElement("div");
        const meta = document.createElement("div");
        meta.className = "post-meta";
        const date = new Date(post.timestamp);
        meta.textContent = `${date.toLocaleDateString("ko-KR")} Â· ${post.media_type}`;

        const caption = document.createElement("div");
        caption.className = "post-caption";
        caption.textContent = post.caption;

        const link = document.createElement("a");
        link.className = "post-link";
        link.href = post.permalink;
        link.target = "_blank";
        link.rel = "noopener noreferrer";
        link.textContent = "ì¸ìŠ¤íƒ€ê·¸ë¨ì—ì„œ ë³´ê¸°";

        right.appendChild(meta);
        right.appendChild(caption);
        right.appendChild(link);

        item.appendChild(thumb);
        item.appendChild(right);
        list.appendChild(item);
      });
    }

    // -----------------------------
    // 2. Hashtag Search ë°ëª¨: ë‹¤ë¥¸ ìœ ì €(ê³ ê°) ê³µê°œ ê²Œì‹œë¬¼ ì˜ˆì‹œ
    // -----------------------------
    const mockHashtagResults = {
      "ë„ê·¸ìº í”„": [
        {
          id: "19000000000000001",
          username: "happy_dog_mom",
          caption: "ê³µí•­ ê°€ê¸° ì „ì— ë„ê·¸ìº í”„ì—ì„œ ë›°ì–´ë†€ê³  ì™”ì–´ìš” ğŸ¶âœˆï¸ #ë„ê·¸ìº í”„ #ì¸ì²œê³µí•­",
          permalink: "https://www.instagram.com/p/HASHTAG01/",
          media_type: "IMAGE",
          media_url: "https://images.pexels.com/photos/7210269/pexels-photo-7210269.jpeg?auto=compress&cs=tinysrgb&w=300",
          timestamp: "2025-11-29T08:15:00+0000"
        },
        {
          id: "19000000000000002",
          username: "travel_with_puppy",
          caption: "ë¹„í–‰ ì „ ë§ˆì§€ë§‰ ì—ë„ˆì§€ ë°œì‚°! ì—­ì‹œ ë„ê·¸ìº í”„ ğŸ‘ #ë„ê·¸ìº í”„ #ë„ê·¸ìº í”„ê³µí•­ì ",
          permalink: "https://www.instagram.com/p/HASHTAG02/",
          media_type: "IMAGE",
          media_url: "https://images.pexels.com/photos/7210282/pexels-photo-7210282.jpeg?auto=compress&cs=tinysrgb&w=300",
          timestamp: "2025-11-27T14:32:10+0000"
        }
      ],
      "ë„ê·¸ìº í”„ê³µí•­ì ": [
        {
          id: "19000000000000003",
          username: "puppy_airport",
          caption: "ê³µí•­ì  ì²« ë°©ë¬¸! ìŠ¤íƒœí”„ë¶„ë“¤ë„ ì¹œì ˆí•˜ê³  ë„ˆë¬´ ì¢‹ì•˜ì–´ìš” ğŸ’› #ë„ê·¸ìº í”„ê³µí•­ì ",
          permalink: "https://www.instagram.com/p/HASHTAG03/",
          media_type: "IMAGE",
          media_url: "https://images.pexels.com/photos/7210535/pexels-photo-7210535.jpeg?auto=compress&cs=tinysrgb&w=300",
          timestamp: "2025-11-26T11:05:00+0000"
        }
      ]
    };

    function renderHashtagResults(tag) {
      const list = document.getElementById("hashtag-results");
      const label = document.getElementById("current-tag-label");

      const normalized = tag.replace(/^#/, "").trim();
      label.textContent = `#${normalized} ê²€ìƒ‰ ê²°ê³¼`;

      const results = mockHashtagResults[normalized];

      list.innerHTML = "";

      if (!results || results.length === 0) {
        list.innerHTML = `<div class="empty">í˜„ì¬ ì˜ˆì‹œ ë°ì´í„°ì—ëŠ” #${normalized} íƒœê·¸ê°€ í¬í•¨ëœ ê²Œì‹œë¬¼ì´ ì—†ìŠµë‹ˆë‹¤.</div>`;
        return;
      }

      results.forEach((post) => {
        const item = document.createElement("div");
        item.className = "post-item";

        const thumb = document.createElement("div");
        thumb.className = "thumb";
        thumb.style.backgroundImage = `url("${post.media_url}")`;
        thumb.innerHTML = `<div class="thumb-label">ê³ ê° ê²Œì‹œë¬¼</div>`;

        const right = document.createElement("div");
        const meta = document.createElement("div");
        meta.className = "post-meta";
        const date = new Date(post.timestamp);
        meta.textContent = `${date.toLocaleDateString("ko-KR")} Â· @${post.username}`;

        const caption = document.createElement("div");
        caption.className = "post-caption";
        caption.textContent = post.caption;

        const link = document.createElement("a");
        link.className = "post-link";
        link.href = post.permalink;
        link.target = "_blank";
        link.rel = "noopener noreferrer";
        link.textContent = "ì¸ìŠ¤íƒ€ê·¸ë¨ì—ì„œ ë³´ê¸°";

        right.appendChild(meta);
        right.appendChild(caption);
        right.appendChild(link);

        item.appendChild(thumb);
        item.appendChild(right);
        list.appendChild(item);
      });
    }

    // -----------------------------
    // 3. ì´ˆê¸° ë Œë” + ì´ë²¤íŠ¸ ì—°ê²°
    // -----------------------------
    renderAccountInfo();
    renderOwnPosts();

    document.getElementById("search-btn").addEventListener("click", () => {
      const input = document.getElementById("hashtag-input");
      const value = input.value.trim() || "#ë„ê·¸ìº í”„";
      renderHashtagResults(value);
    });

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ê¸°ë³¸ í•´ì‹œíƒœê·¸ë¥¼ ë¯¸ë¦¬ ë³´ì—¬ì£¼ê³  ì‹¶ë‹¤ë©´:
    // renderHashtagResults("ë„ê·¸ìº í”„");
  </script>
</body>
</html>
